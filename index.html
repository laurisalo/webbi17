<!DOCTYPE html>
<html lang="fi">
<head>
  <link rel="icon" type="image/png" href="logo.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Litofaanikauppa – Kuultokuvat omasta kuvasta</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
  
  <style>
    /* Lämmin Klassikko Estetiikka: Paluu ensimmäisiin väreihin ilman kylmää sävyä */

    :root {
      /* Päävärit: */
      --color-bg-dark: #ECE9E7; /* Päätausta (Off-white/Cream) */
      --color-bg-light: #E0DCD5; /* UUSI, LÄMMIN NEUTRAALI VÄRI LAATIKOILLE */
      --color-text-dark: #4D4639; /* Pääteksti (Tumma Ruskea/Olive) */
      --color-text-secondary: #777063; 
      --color-border: rgba(77, 70, 57, 0.2); 

      /* Korostusväri (Muted Beige/Taupe) */
      --color-accent: #C3AF9A; 
      --nav-height: 85px;
    }
    
    * { box-sizing: border-box; }
    
    /* ESTÄÄ HORISONTAALISEN YLIVUODON */
    html { 
        scroll-behavior: smooth; 
        max-width: 100vw; 
        overflow-x: hidden; 
        /* --- UUSI: SCROLL SNAP TYPE --- */
        scroll-snap-type: y mandatory;
    }
    
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      font-weight: 400;
      background: var(--color-bg-dark); 
      color: var(--color-text-dark); 
      max-width: 100vw; 
      overflow-x: hidden; 
      min-height: 100vh;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }


    /* Typografia - Playfair Display otsikoihin */
    h1, h2 {
      font-family: 'Playfair Display', serif; 
      color: var(--color-text-dark); 
      letter-spacing: -0.02em; 
    }
    h1 {
      font-size: 5rem;
      font-weight: 400; 
      margin: 0;
      line-height: 1.1;
    }
    
    /* UUDET: VAHVISTETTU KONTRASTI HERO-OSIOON */
    .hero-content h1 {
      /* Käytä päätaustaväriä (#ECE9E7) */
      color: var(--color-bg-dark); 
      font-weight: 500;
      /* POISTETTU: text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7); */
    }
    .hero-content p {
      /* Käytä laatikoiden taustaväriä (#E0DCD5) */
      color: var(--color-bg-light); 
      font-weight: 500; 
      /* POISTETTU: text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7); */
    }
    /* Poistetaan vanha, hämmentävä span-tyyli */
    .hero-content h1 span {
      display: none; 
    }

    h2 {
      font-size: 3rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: var(--color-text-dark); 
    }
    h3 {
      font-size: 1.75rem;
      font-weight: 600;
      color: var(--color-text-dark); 
      font-family: 'Inter', sans-serif; 
    }
    p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--color-text-secondary); 
      max-width: 800px;
      margin: 1.5rem auto;
    }

    /* Button - Beige/Taupe sävy */
    .btn {
      display: inline-block;
      padding: 14px 30px;
      background: var(--color-accent); 
      color: var(--color-text-dark); 
      text-decoration: none;
      /* TÄMÄ ON NAPIN PAKSUUS */
      font-weight: 700; 
      text-transform: uppercase;
      font-size: 0.9rem;
      letter-spacing: 0.1em;
      border: 1px solid var(--color-accent);
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
    }
    .btn:hover {
      background: var(--color-bg-dark); 
      color: var(--color-accent); 
    }
    /* Pienemmät napit tilausvaiheisiin */
    .step-btn {
        margin-top: 15px; 
        padding: 10px 20px;
        /* Varmistaa, että napit ovat saman levyisiä ja alhaalla */
        width: 100%;
        margin-top: auto; 
    }

    /* Yleiset rakenteet ja animaatio - Väljempi tila */
    section {
      padding: 140px 20px;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
      opacity: 0; 
      transform: translateY(40px);
      transition: opacity 1s cubic-bezier(0.2, 0.5, 0.1, 1), transform 1s cubic-bezier(0.2, 0.5, 0.1, 1);
      /* --- UUSI: SCROLL SNAP ALIGN JA PADDING --- */
      scroll-snap-align: start;
      scroll-padding-top: var(--nav-height);
    }
    section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    #home, #about, #how, #examples {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        /* MUUTETTU: justify-content: center; poistettu sisällön nostamiseksi ylös */
        padding-top: var(--nav-height); 
    }
    
    /* Erotinviiva - Minimalistinen */
    .section-separator {
        width: 80px;
        height: 1px;
        background-color: var(--color-text-dark); 
        margin: 30px auto 40px auto;
    }

    /* Navigaatio - Minimalistinen ja vaalea */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: var(--nav-height);
      background: var(--color-bg-dark); 
      border-bottom: 1px solid var(--color-border); 
      box-shadow: 0 2px 4px rgba(0,0,0,0.02);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.4s ease, box-shadow 0.4s ease;
    }
    
    .nav-content {
      width: 100%;
      max-width: 1200px;
      padding: 0 30px; /* TYÖPÖYTÄ: 30px padding */
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    /* Logo-teksti (Etusivu) */
    .logo-text {
      font-family: 'Playfair Display', serif; 
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--color-text-dark); 
      text-decoration: none;
      letter-spacing: 0.1em;
      padding: 0.5rem 0.2rem; 
      transition: color 0.4s ease, border-bottom 0.4s ease;
      border-bottom: 1px solid transparent; 
    }
    /* Logo aktiivisena */
    .logo-text.active-nav {
      color: var(--color-text-dark); 
      border-bottom: 1px solid var(--color-text-dark);
    }

    /* TYÖPÖYTÄ/GLOBAL: Linkit näkyvät flex-containerina */
    .nav-links {
      display: flex; 
      gap: 40px;
      font-size: 0.9rem;
      font-weight: 500;
      align-items: center; 
    }
    /* TYÖPÖYTÄ/GLOBAL: Hamburger-painike piilotettu */
    .nav-toggle { 
        display: none; 
    }
    
    .nav-links a {
      text-decoration: none;
      color: var(--color-text-dark); 
      padding: 0.5rem 0.2rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      transition: color 0.4s ease, border-bottom 0.4s ease;
      border-bottom: 1px solid transparent; 
    }
    /* Nav-Linkki aktiivisena */
    .nav-links a.active-nav, 
    .nav-links a:hover:not(.verkkokauppa) {
      color: var(--color-text-dark); 
      border-bottom: 1px solid var(--color-text-dark);
    }
    
    /* TÄRKEÄ: Verkkokauppa-linkistä tehdään erillinen painike parhaan näkyvyyden saavuttamiseksi */
    .verkkokauppa {
      color: var(--color-text-dark) !important; /* Teksti tummaksi */
      background: var(--color-accent) !important; /* Korostusväri taustaksi */
      font-weight: 700 !important; 
      padding: 8px 15px !important; /* Pienempi padding navigaatioon */
      border: 1px solid var(--color-accent) !important;
      border-radius: 2px;
      transition: all 0.3s ease;
      line-height: 1.5; /* Auttaa pystykeskityksessä */
      margin-left: 5px; /* Pieni erotin */
    }
    .verkkokauppa:hover {
      background: var(--color-bg-dark) !important;
      color: var(--color-accent) !important;
      border: 1px solid var(--color-accent) !important;
      border-bottom: 1px solid var(--color-accent) !important; /* Estää perus nav-viivan ilmestymisen */
    }
    
    /* Hero */
    .hero-image-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      
      /* TÄRKEÄ MUUTOS: Vahvempi overlay ylhäällä, liukuu kevyempään alaosaan (0.7 -> 0.4 opasiteetti) */
      background: 
        linear-gradient(to bottom, rgba(77, 70, 57, 0.7) 0%, rgba(77, 70, 57, 0.4) 100%), 
        url('hero.JPG') center center no-repeat;
      background-size: cover;
    }
    
    .hero-content {
        max-width: 800px;
        margin: 0 auto;
        text-align: center;
        /* MUUTETTU: Sisältöä nostettu ylöspäin positiivisella marginaalilla */
        margin-top: 100px; 
    }


    /* How-osion Vaiheet (Steps) */
    .steps {
        display: grid;
        grid-template-columns: repeat(4, 1fr); 
        gap: 30px;
        margin-top: 60px;
        text-align: center;
    }
    .step {
        background: var(--color-bg-light); /* LÄMMIN TAUSTAVÄRI */
        border: 1px solid var(--color-border); 
        padding: 30px;
        transition: transform 0.3s ease, border-color 0.3s ease;
        /* Flexbox: Määrittelee .step-sisällön pystysuoraan ja antaa tekstin venyä */
        display: flex;
        flex-direction: column;
    }
    .step:hover {
        border-color: var(--color-accent); 
        transform: translateY(-5px);
    }
    .step-number {
        font-family: 'Playfair Display', serif; 
        font-size: 3.5rem;
        font-weight: 700;
        color: var(--color-text-dark); 
        margin-bottom: 10px;
        line-height: 1;
    }
    .step h3 {
        margin-top: 0;
        font-size: 1.5rem;
    }
    .step p {
        font-size: 1rem;
        margin-top: 10px;
        margin-bottom: 15px;
        /* Antaa kappaleen venyä täyttämään pystysuoran tilan */
        flex-grow: 1; 
    }
    /* Boldaus p-elementeissä */
    .step p strong {
        font-weight: 700;
        color: var(--color-text-dark);
    }

    /* Galleria */
    .example-gallery {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-top: 40px;
    }
    .example-gallery img {
        width: 100%;
        height: auto;
        display: block;
        object-fit: cover;
        border-radius: 2px;
        border: 1px solid var(--color-border); 
        transition: transform 0.3s ease;
    }
    .example-gallery img:hover {
        transform: scale(1.02);
    }


    /* Yhteystiedot (Contact Form) */
    #contact { background: var(--color-bg-light); } /* LÄMMIN TAUSTAVÄRI */
    .contact-form {
      max-width: 650px;
      margin: 40px auto 0 auto;
      text-align: left;
      padding: 40px; 
      border: 1px solid var(--color-border);
      background: var(--color-bg-dark); 
    }
    .form-group { margin-bottom: 25px; }
    .contact-form label {
      display: block; 
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--color-text-dark); 
      margin-bottom: 8px;
    }
    .contact-form input:not([type="file"]), 
    .contact-form textarea {
      width: 100%;
      padding: 12px 15px;
      background: var(--color-bg-light); /* LÄMMIN TAUSTAVÄRI */
      color: var(--color-text-dark); 
      border: 1px solid var(--color-border);
      font-size: 1rem;
      border-radius: 0;
    }
    .contact-form input:focus, .contact-form textarea:focus {
      border-color: var(--color-text-dark); 
      outline: none;
      box-shadow: 0 0 0 1px var(--color-text-dark);
    }
    .form-group-inline {
        display: flex;
        gap: 30px;
        margin-bottom: 25px; 
    }
    .form-group-inline .form-group {
        flex: 1; 
        margin-bottom: 0; 
    }
    .topic-toggle { display: flex; gap: 15px; margin-bottom: 30px; }
    .topic-btn {
        flex: 1;
        padding: 12px 15px;
        background: var(--color-bg-light); /* LÄMMIN TAUSTAVÄRI */
        color: var(--color-text-dark); 
        border: 1px solid var(--color-border);
        font-family: 'Inter', sans-serif;
        font-size: 1rem;
        font-weight: 500;
    }
    .topic-btn.selected {
      background: var(--color-accent); 
      color: var(--color-text-dark); 
      border-color: var(--color-accent);
    }
    .upload-fields.hidden {
        max-height: 0;
        opacity: 0;
        margin-bottom: 0 !important;
        pointer-events: none;
        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
    }
    .order-info { position: relative; display: flex; align-items: flex-start; width: 100%; }
    .order-info input { margin-bottom: 0; flex-grow: 1; }
    .order-info-btn { 
        padding: 0; height: 44px; width: 44px; margin-left: -1px; display: flex; align-items: center; justify-content: center; font-weight: 700; cursor: pointer; line-height: 1; flex-shrink: 0; font-style: italic; border: 1px solid var(--color-border); color: var(--color-text-secondary); background: var(--color-bg-dark); transition: all 0.2s; outline: none; 
    }
    .order-info-popup {
        position: absolute; top: 100%; left: 50%; transform: translate(-50%, 10px); min-width: 280px; max-width: 90vw; padding: 15px; background: var(--color-accent); 
        color: var(--color-text-dark); 
        font-size: 0.9rem; font-weight: 600; text-align: left; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 20; visibility: hidden; opacity: 0; transition: opacity 0.3s ease, transform 0.3s ease; 
    }
    .order-info-btn:hover + .order-info-popup, .order-info-btn:focus + .order-info-popup { visibility: visible; opacity: 1; transform: translate(-50%, 0); }
    
    /* Piilottaa yleisen Viesti-kentän, kun kuvanlähetys on valittu */
    #message-group.hidden {
        display: none !important;
    }

    /* --- Responsiivisuus --- */
    
    /* TABLET: 2 saraketta tilauksessa */
    @media (max-width: 992px) {
        .steps {
            grid-template-columns: repeat(2, 1fr); 
            gap: 20px;
        }
    }

    /* UUSI NAVIGAATION KÄÄNTÖPISTE */
    @media (max-width:970px) { 
        /* 1. Näytä hamburger-painike */
        .nav-toggle { 
            display: block !important; 
            margin-left: auto; 
            background: none; 
            border: none; 
            padding: 0; 
            cursor: pointer; 
        }
        
        /* 2. Piilota nav-linkit ja tee niistä overlay-valikko */
        .nav-links { 
            display: none !important; 
            position: absolute;
            top: var(--nav-height); 
            left: 0;
            width: 100%;
            background: var(--color-bg-dark); 
            flex-direction: column;
            text-align: center;
            padding: 20px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-top: 1px solid var(--color-border);
        }
        /* 3. Näytä valikko, kun JS lisää 'open'-luokan */
        .nav-links.open {
            display: flex !important; 
        }
        
        /* 4. Keskittää linkit mobiilivalikossa */
        .nav-links a {
            padding: 15px 0;
            border-bottom: none !important; 
            display: block; 
            width: 100%; 
            text-align: center; 
        }
        .nav-links a:hover {
            background: var(--color-bg-light); 
        }
    }
    
    /* PUHELIN: Kapea näkymä */
    @media (max-width: 600px) {
        /* Vaiheet yhteen sarakkeeseen */
        .steps {
            grid-template-columns: 1fr; 
            gap: 15px;
        }

        /* Korjaa Logo/Hamburger-tasaus ahtaissa näytöissä */
        .nav-content {
            padding: 0 15px; 
        }
        
        .logo-text {
            font-size: 1.35rem; 
            padding: 0; 
        }
    }

    /* LOMAKKEEN RAKKEELLINEN KÄÄNTÖPISTE */
    @media (max-width: 470px) { 
        /* Korjaa lomakkeen vierekkäiset kentät pinoamaan */
        .form-group-inline {
            flex-direction: column; 
            gap: 0; 
        }
        .form-group-inline .form-group {
            width: 100%; 
            margin-bottom: 25px; 
        }
        /* Korjaa myös Topic-valitsin pinoamaan */
        .topic-toggle {
            flex-direction: column;
            gap: 10px;
        }
        /* Pienennä otsikoita, jos tilaa on vähän */
        h1 { font-size: 3rem; }
        h2 { font-size: 2rem; }
        p { font-size: 1rem; }
    }
  </style>
</head>
<body>

  <nav>
    <div class="nav-content">
      <a href="#home" class="logo-text">LITOFAANIKAUPPA</a> 
      
      <button class="nav-toggle" aria-label="Avaa valikko" aria-expanded="false">
        <svg viewBox="0 0 24 24" width="30" height="30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 18L20 18" stroke="var(--color-text-dark)" stroke-width="2" stroke-linecap="round"/>
            <path d="M4 12L20 12" stroke="var(--color-text-dark)" stroke-width="2" stroke-linecap="round"/>
            <path d="M4 6L20 6" stroke="var(--color-text-dark)" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <div class="nav-links">
        <a href="#about">TIETOA</a>
        <a href="#how">NÄIN TILAAT</a>
        <a href="#examples">GALLERIA</a>
        <a href="#contact">YHTEYDENOTTO</a>
        <a href="https://litofaanikauppa.myshopify.com/" target="_blank" rel="noopener" class="verkkokauppa">VERKKOKAUPPA</a>
      </div>
    </div>
  </nav>

  <section id="home">
    <div class="hero-image-container"></div>
    <div class="hero-content">
      <h1>Anna kuvillesi uusi ulottuvuus.</h1>
      <p>Täydellinen lahja jokaiseen merkkipäivään.</p>
      <a href="#how" class="btn">Näin tilaat</a>
    </div>
  </section>

  <section id="about" class="about">
    <h2>Mikä on litofaani?</h2>
    <div class="section-separator"></div>
    <p><strong>Kuultokuva</strong> tai <strong>Litofaani</strong> on ohut levy, joka paljastaa kuvansa valoa vasten katsottuna. Levyn paksuus vaihtelee kuvan vaaleiden ja tummien kohtien mukaan, ja kun valo kulkee levyn läpi, syntyy kaunis kolmiulotteinen kuva.</p>
    <p>Parhaiten toimii hyvin rajatut kuvat, joissa on selkeä valaistus ja hyvä kontrasti. Vältä liian tummia tai puhki palaneita kuvia.</p>
    <p>Katso galleriasta esimerkkejä valmistamistamme litofaaneista.</p>
    <a href="#examples" class="btn" style="background: none; color: var(--color-text-dark); font-weight: 600; padding: 0; border: none; text-transform: none;">Katso galleria →</a>
  </section>

  <section id="how" class="how">
    <h2>Näin tilaat omasi</h2>
    <div class="section-separator"></div>
    <div class="steps">
      <div class="step step-1">
        <div class="step-number">01</div>
        <h3>Tee tilaus verkkokaupassa</h3>
        <p>Tilaa haluamasi litofaani <strong>verkkokaupastamme</strong>. Pääset sinne alla olevan linkin kautta.</p>
        <a href="https://litofaanikauppa.myshopify.com/" target="_blank" rel="noopener" class="btn step-btn">Siirry verkkokauppaan</a>
      </div>
      <div class="step">
        <div class="step-number">02</div>
        <h3>Lähetä kuva</h3>
        <p>Lähetä valitsemasi<strong> kuva</strong>, sekä <strong>tilausnumerosi</strong> alla olevan painikkeen kautta tai sähköpostitse.</p>
        <a href="#contact" class="btn step-btn">Lähetä kuva</a>
      </div>
      <div class="step">
        <div class="step-number">03</div>
        <h3>Valmistus</h3>
        <p>Valmistamme litofaanisi mahdollisimman pian. Litofaanin valmistus kestää noin <strong>12–16 tuntia</strong>.</p>
        <a href="#" class="btn step-btn" style="visibility: hidden; pointer-events: none; border: none;">---</a> 
      </div>
      <div class="step">
        <div class="step-number">04</div>
        <h3>Toimitus</h3>
        <p>Tyypillinen toimitusaika litofaanille on noin <strong>1–2 viikkoa</strong>.</p>
        <a href="#" class="btn step-btn" style="visibility: hidden; pointer-events: none; border: none;">---</a>
      </div>
    </div>
  </section>

  <section id="examples" class="examples">
    <h2>Galleria</h2>
    <div class="section-separator"></div>
    <p>Täällä näet esimerkkejä valmistamistamme litofaaneista. Katso, kuinka muistot heräävät eloon.</p>
    <div class="example-gallery">
      <img src="kuva1.JPG" alt="Kuva 1 litofaani">
      <img src="kuva4.JPG" alt="Kuva 2 litofaani">
      <img src="kuva5.JPG" alt="Kuva 3 litofaani">
    </div>
  </section>

  <section id="contact">
    <h2>Yhteydenotto</h2>
    <div class="section-separator"></div>
    <form class="contact-form" id="contact-form" action="https://usebasin.com/f/a1d0733d2e6f" method="POST" enctype="multipart/form-data">
      
        <div class="form-group">
            <label style="font-size:1rem; font-weight: 700;">Yhteydenoton syy:</label>
            <div class="topic-toggle">
                <button type="button" class="topic-btn" id="btn-kuvanlahetys" onclick="selectTopic('kuvanlahetys')">1. Lähetä kuva</button>
                <button type="button" class="topic-btn" id="btn-asiakaspalvelu" onclick="selectTopic('asiakaspalvelu')">2. Yleinen Kysymys/Asiakaspalvelu</button>
            </div>
            <input type="hidden" id="topic" name="Aihe" value="kuvanlahetys">
        </div>

        <div class="form-group-inline">
            <div class="form-group">
                <label for="name">Nimi *</label>
                <input type="text" id="name" name="Nimi" required autocomplete="name">
            </div>
            <div class="form-group">
                <label for="email">Sähköpostiosoite *</label>
                <input type="email" id="email" name="Sähköposti" required autocomplete="email">
            </div>
        </div>

        <div id="upload-fields" class="upload-fields hidden">
            <hr>
            <p style="font-size: 0.95rem; font-weight: 600; text-align: left; margin: 0 0 15px 0;">Liitteet ja Tilausustiedot:</p>

      

            <div class="form-group-inline">
                <div class="form-group">
                    <label for="order">Tilausnumero *</label>
                    <span class="order-info" id="order-info">
                        <input type="text" id="order" name="Tilausnumero" autocomplete="off" required placeholder="Esim. #12345">
                        <button type="button" class="order-info-btn" tabindex="0" aria-label="Mistä löydän tilausnumeron?">i</button>
                        <span class="order-info-popup">Tilausnumero löytyy tilausvahvistussähköpostista.</span>
                    </span>
                </div>
                <div class="form-group">
                    <label for="file">Valitse Kuva * (Yli 2MB kuvat suoralla sähköpostilla)</label>
                    <input type="file" id="file" name="Kuva" accept="image/*" required>
                </div>
            </div>
            
            <div class="form-group" id="additional-info-group">
                <label for="additional-info" id="additional-info-label">Lisätiedot (Valinnainen)</label>
                <textarea id="additional-info" name="Lisätiedot" rows="4" placeholder="Erikoistoiveet tai muut huomioitavat asiat..."></textarea>
            </div>
            <hr>
        </div>
        
        <div class="form-group" id="message-group">
            <label for="message" id="message-label">Viesti *</label>
            <textarea id="message" name="Viesti" rows="4" placeholder="Kerro lyhyesti asiasi..."></textarea>
        </div>

        <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">Lähetä</button>
        
        <p style="margin-top:25px; text-align:center; font-size:0.9rem; color: var(--color-text-secondary);">Voit myös lähettää sähköpostia suoraan: <a href="mailto:litofaanikauppa@gmail.com" class="contact-email-link">litofaanikauppa@gmail.com</a></p>
    </form>
  </section>

  <footer>
    <p style="color: var(--color-text-secondary);">© 2025 Litofaanikauppa | Valmistettu Suomessa.</p>
  </footer>

  <script>
    // Lomakkeen aihevalinta (pidetään globaalina onlick-tapahtumien vuoksi)
    function selectTopic(topic) {
      document.getElementById('topic').value = topic;
      const btnAsiakaspalvelu = document.getElementById('btn-asiakaspalvelu');
      const btnKuvanlahetys = document.getElementById('btn-kuvanlahetys');
      const uploadFields = document.getElementById('upload-fields');
      const messageGroup = document.getElementById('message-group'); // Vanha Viesti-ryhmä
      
      // UUDET KENTÄT
      const phoneField = document.getElementById('phone');
      // const addressField = document.getElementById('address'); // POISTETTU
      const orderField = document.getElementById('order');
      const fileField = document.getElementById('file');
      
      // VANHAT/YLEISET KENTÄT
      const messageField = document.getElementById('message');
      const messageLabel = document.getElementById('message-label');
      
      if (topic === 'kuvanlahetys') {
        btnAsiakaspalvelu.classList.remove('selected');
        btnKuvanlahetys.classList.add('selected');
        
        uploadFields.classList.remove('hidden');
        messageGroup.classList.add('hidden'); // Piilota yleinen viesti-kenttä
        
        // Pakolliset tiedot Lähetä kuva -tilassa
        phoneField.required = true;
        // addressField.required = true; // POISTETTU VAATIMUS
        orderField.required = true;
        fileField.required = true;
        
        // Yleinen Viesti-kenttä valinnaiseksi/poissa käytöstä
        messageField.required = false;
        
      } else {
        btnAsiakaspalvelu.classList.add('selected');
        btnKuvanlahetys.classList.remove('selected');
        
        uploadFields.classList.add('hidden');
        messageGroup.classList.remove('hidden'); // Näytä yleinen viesti-kenttä

        messageLabel.innerHTML = 'Viesti *';
        messageField.required = true;
        messageField.placeholder = "Kerro lyhyesti asiasi..."
        
        // Lähetä kuva -kentät valinnaisiksi/poissa käytöstä
        phoneField.required = false;
        // addressField.required = false; // POISTETTU VAATIMUS
        orderField.required = false;
        fileField.required = false;
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      
      // **ELEMENTTIEN VALINTA**
      const nav = document.querySelector('nav');
      const sections = document.querySelectorAll('section[id]');
      const navLinksElements = document.querySelectorAll('.nav-links a');
      const logoLink = document.querySelector('.logo-text'); 
      const contactForm = document.getElementById('contact-form');
      
      // **HAMBURGER VALIKON TOIMINNALLISUUS**
      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.querySelector('.nav-links');

      navToggle.addEventListener('click', function() {
          const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
          // Vaihda aria-expanded tilaa ja näytä/piilota valikko
          navToggle.setAttribute('aria-expanded', !isExpanded);
          navLinks.classList.toggle('open');
      });

      // Sulje valikko, kun linkkiä klikataan mobiilissa
      navLinks.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => {
              // Tarkista kokoa CSS-mediakyselyn perusteella (Tämä on sama 900px kuin CSS:ssä)
              if (window.innerWidth <= 900) { 
                  navLinks.classList.remove('open');
                  navToggle.setAttribute('aria-expanded', 'false');
              }
          });
      });
      // **Lopettaa mobiilivalikko-logiikka**


      // **1. AKTIIVISEN NAVIGAATIOLINKIN HALLINTA**
      function updateActiveLink() {
          let current = 'home'; 
          const navHeight = nav.offsetHeight;

          sections.forEach(section => {
              const sectionTop = section.offsetTop - navHeight - 50; 
              if (window.scrollY >= sectionTop) {
                  current = section.getAttribute('id');
              }
          });

          // Poista aktiivinen tila kaikista
          navLinksElements.forEach(link => {
              link.classList.remove('active-nav');
          });
          logoLink.classList.remove('active-nav'); 

          // Lisää aktiivinen luokka logoon tai nav-linkkeihin
          if (current === 'home') {
              logoLink.classList.add('active-nav'); 
          } else {
              navLinksElements.forEach(link => {
                  const targetId = link.getAttribute('href').substring(1);
                  if (targetId === current) {
                      link.classList.add('active-nav');
                  }
              });
          }
      }

      // **2. FADE-IN / SLIDE-UP ANIMOINTI**
      function animateSections() {
        const triggerBottom = window.innerHeight * 0.85;

        sections.forEach(section => {
          const sectionTop = section.getBoundingClientRect().top;

          if (sectionTop < triggerBottom) {
            section.classList.add("visible");
          }
        });
      }

      // **3. TAPAHTUMANKUUNTELIJAT**
      window.addEventListener('scroll', updateActiveLink);
      window.addEventListener('load', updateActiveLink);
      window.addEventListener('resize', updateActiveLink); 
      
      window.addEventListener('scroll', animateSections);
      window.addEventListener("load", animateSections);
      
      // Varmista, että osiot näkyvät heti DOM-puun latauduttua
      animateSections(); 

      // **4. LOMAKKEEN LÄHETYSVALIDOINTI**
      if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
          const topic = document.getElementById('topic').value;
          let valid = true;
          
          ['name','email'].forEach(id => {
            const el = document.getElementById(id);
            // Tarkista, että kenttä on olemassa ja siinä on sisältöä
            if (el && !el.value.trim()) valid = false;
          });

          if (topic === 'asiakaspalvelu') {
            const msg = document.getElementById('message');
            if (msg && !msg.value.trim()) valid = false;
          } else if (topic === 'kuvanlahetys') {
            // Uudet pakolliset kentät: Puhelin, Tilausnumero, Kuva
            const phone = document.getElementById('phone');
            // const address = document.getElementById('address'); // POISTETTU TÄÄLTÄKIN
            const order = document.getElementById('order');
            const file = document.getElementById('file');
            
            if (phone && !phone.value.trim()) valid = false;
            // if (address && !address.value.trim()) valid = false; // POISTETTU TARKISTUS
            if (order && !order.value.trim()) valid = false;
            if (file && (!file.files || file.files.length === 0)) valid = false;
          }
          
          if (!valid) {
            alert('Täytä kaikki pakolliset kentät (*) ennen lähettämistä.');
            e.preventDefault();
            return false;
          }
        });
      }
      
      // **5. MÄÄRITÄ LOMAKKEEN ALOITUSTILA**
      selectTopic('kuvanlahetys'); 
    });
  </script>
</body>

</html>





